# Knitr, Markdown, $\LaTex{}$ y Pandoc {#publication}

## La libreria Knitr

El sistema R no destaca especialmente por tratarse de un sistema visual y amigable para los usuarios noveles que se enfrentan a él. Ello se hace extensible a la publicación de los resultados, quizás el aspecto menos desarrollado del software.

Esta carencia ha sido suplida, como no, por librerías que hacen más sencillo el formateo de los resultados, su publicación y divulgación. En concreto, y sobre cualquier otras, destacan las siguientes la libreria `knitr` [@R-knitr], que permite la confección de informes dinámicos y reproducibles (esto es que se pueden modificar cada vez que rehagamos algo en nuestro código), permiteindo integrar el lenguaje R en otros documentos construidos en `LaTeX`, `HTML`, `Markdown`,…  

Muy brevemente podríamos decir que `knitr` se basa en dos conceptos: el fragmento literal de texto, escrito comúnmente en `Markdown` y el fragmento de código R o `chunk` (la unión de ambos es lo que se conoce como `RMarkdown`). Una vez compilamos nuestro informe (proceso para lo cual se apoya en el software `pandoc`) tendremos, por un lado el texto formateado, según las características que hayamos definido en el encabezado del documento y los resultados de los códigos, embebidos en el mismo. Entre las salidas básicas tendremos el formato `HTML`, `docx` y `pdf`, si bien podremos generar muchos más gracias a las excepcionales posibilidades que da `Pandoc`.

##La escritura con Markdown

Markdown es un lenguaje de marcado ligero ideado en 2004 por John Gruber, con la visión de crear un lenguaje sencillo, fácil de leer y de escribir, aprovechando las ventajas del lenguaje `HTML` pero eliminando sus inconvenientes, como por ejemplo las etiquetas, que tanto engorran el código. Pongamonos en situación: si estamos escribiendo en `HTML`, para añadir una palabra en negrita deberíamos escribir `<strong>importante</strong>` mientras que si estamos escribiendo en `Markdown`nos bastaría poner `**importante**` para que cuando lo compilemos, se muestre de esta forma. Huelga decir, que en un procesador de textos al uso deberemos dejar de escribir, coger el ratón, pulsar en el botón de la negrita, volver a escribir, de nuevo coger el ratón, ir a la barra de herramientas, desactivar el formato de negrita y continuar escribiendo (…). A continuación podemos ver algunos ejemplos de la notación de este lenguaje:

![](https://gitlab.com/juliomsevilla/Rpub/raw/master/images/markdown.png)

En este punto nos puede asaltar la duda ¿Markdown cubre todo el espectro que cubre `HTML`? Sí y no, porque si no lo cubre, tan solo tienes que escribir la parte de HTML` separado una línea del siguiente párrafo en Markdown.

Trabajar con Markdown, tiene infinidad de ventajas, pero es especialmente adecuado para aquellas personas que publican contenido en la web de manera regular. Entre otras ventajas cabe citar que cuando te acostumbras a la sintaxis la generación de texto es extremadamente rápido, es muy sencillo de leer, no tendremos el problema de errores por no cerrar adecuadamente las etiquetas `HTML` y su compilación con software como [`Pandoc`](https://pandoc.org/) permite la exportación simple a infinidad de formatos basados en texto.

## El lenguaje $\LaTex{}$

\LaTex{} es un sistema de preparación de documentos por comandos de bajo nivel, usado para escribir grandes textos científicos y técnicos, que fue desarrollado en 1985 por Leslie Lamport y que a diferencia de los procesadores de texto actuales WYSIWYG, permite al escritor centrarse en el contenido sin tener que preocuparse por el formato, algo que realizará el sistema $\LaTeX{}$.

A grandes rasgos, un documento en $\LaTex{}$ se compone de la siguiente estructura:

```{r eval=FALSE}
\documentclass[opciones]{clase}
Preámbulo
\begin{document}
Documento
\end{document}

```

En las opciones se definirán al menos el tamaño del papel (por ejemplo, `a4paper`) y el tamaño de letra (por ejemplo, `12pt`).

Si queremos ahondar más en la escritura con $\LaTex{}$ recomendamos la lectura del documento [https://www.uv.es/~ivorra/Latex/LaTeX.pdf]("Preparación de Documentos con $\LaTEx{}$") de Carlos Ivorra.

## Pandoc y la conversión entre formatos.
Pandoc es una herramienta de libre y de código abierto, creado porJohn MacFarlane y que permite la conversión entre múltiples formatos de marcado a partir de un motor de renderizado común:

![](https://gitlab.com/juliomsevilla/Rpub/raw/master/images/diagram.png)

Basicamente, el trabajo con pandoc consiste en que, una vez tengamos creado el documento, para lo cual recomendamos se haga en Markdown, el motor de renderizado de Pandoc lo convertira en el formato que deseemos, por ejemplo $\LaTex{}$ o directamente pdf. 
